@using Web_ALPA.Models.Entidad
@model List<Usuario>
<html>
<body>

    <div>
        <table class="table table-striped table-hover" id="kt_table5">

            <thead>
                <tr role="row">
                    <th class="text-dark">#</th>
                    <th class="text-dark">Usuario</th>
                    <th class="text-dark">Apellidos</th>
                    <th class="text-dark">Nombres</th>
                    <th class="text-dark">Email</th>
                    <th class="text-dark" style="text-align:center">Estado</th>
                    <th class="text-dark" style="text-align:center">...</th>
                </tr>
            </thead>
            <tbody>
                @if (Model != null && Model.Count > 0)
                {
                    for (int i = 0; i < Model.Count; i++)
                    {
                        int @Code = Convert.ToInt32(Model[i].Code);
                        <tr>
                            <td>
                                @Html.HiddenFor(x => Model[i].Nro)
                                @Html.DisplayFor(x => Model[i].Nro, Model[i].Nro)
                            </td>

                            <td>
                                @Html.HiddenFor(x => Model[i].CodUsuario)
                                @Html.DisplayFor(x => Model[i].CodUsuario, Model[i].CodUsuario)
                            </td>

                            <td>
                                @Html.HiddenFor(x => Model[i].Apellidos)
                                @Html.DisplayFor(x => Model[i].Apellidos, Model[i].Apellidos)
                            </td>

                            <td>
                                @Html.HiddenFor(x => Model[i].Nombres)
                                @Html.DisplayFor(x => Model[i].Nombres, Model[i].Nombres)
                            </td>

                            <td>
                                @Html.HiddenFor(x => Model[i].E_Mail)
                                @Html.DisplayFor(x => Model[i].E_Mail, Model[i].E_Mail)
                            </td>

                            <td style="text-align:center">
                                @if (Model[i].U_FlagActivo == true)
                                {
                                    <span class="kt-badge kt-badge--brand kt-badge--inline kt-badge--pill"> Activo</span>
                                }
                                else
                                {
                                    <span class="kt-badge kt-badge--danger kt-badge--inline kt-badge--pill"> Inactivo</span>
                                }

                            </td>

                            <td style="text-align:center">
                                <a href="#" class="BtnDetUsu btn btn-clean btn-sm btn-icon" data-Code="@Code" id="BtnDetUsu"
                                   title="Ver detalle" data-placement="top">
                                    <i class="fa fa-search"></i>
                                </a>
                            </td>
                        </tr>
                    }
                }
            </tbody>
        </table>
    </div>
</body>
</html>
<script>
    $('.BtnDetUsu').click("click", function () {
        var xCode = $(this).attr("data-Code");
        window.location.href = "../Administracion/EditarUsuario?oCode=" + xCode;
    });

    $(document).ready(function () {
        // DataTable
        var table = $('#kt_table5').DataTable({
           /* scrollY: '60vh',*/
            scrollCollapse: true,
            scrollX: true,
            paging: true,
            responsive: false,
            //autoWidth: true,
            //"processing": true,
            //"serverSide": true,
            // Pagination settings
            dom: `<'row'<'col-sm-6 text-left'f><'col-sm-6 text-right'B>>
            <'row'<'col-sm-12'tr>>
            <'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>`,

            buttons: [
                // 'copyHtml5',
                //'excelHtml5',
            ],
            filterable: true,
            pagination: true,
            "language": {
                "url": "//cdn.datatables.net/plug-ins/9dcbecd42ad/i18n/Spanish.json"
            },
        });
    });
</script>

